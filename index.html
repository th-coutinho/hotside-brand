<!DOCTYPE html>
<html>
<head>
        <script src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="/node_modules/jquery.html5loader/src/jquery.html5Loader.js"></script>
        
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- CSS Imports -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/main.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700" rel="stylesheet">
    <script src="./js/jquery.js"></script>
    <script src="./js/bootstrap.min.js"></script>
</head>
<body>
    <div class="loading">
        <img class="image" src="images/general/abertura_nova.gif" alt="" >
    </div>
    <div class="general-container">       
        <div class="animation">
            <img class="frame" src="images/animation/00-min.jpg" alt="">
        </div>

        <section id="new-identity">
            <img class="element element-left" src="images/general/elemento3.png">
            <img class="element element-right" src="images/general/elemento4.png">
            
            <div class="container">
                <img class="image-text title center-block" src="images/titles/titulo01.png" alt="Nova Identidade" >
                <div class="center-block text-box">
                    <p class="text">Uma nova marca para um novo momento.</p>
                    <p class="text">Uma nova identidade para um novo propósito. </p>   
                </div>
            </div>
            
        </section>
        <section id="cycles">
            <img class="smartphone" src="images/general/cel.png" alt="smartphone" >
            <div class="container">
                <div class="text-box">
                    <img class="image-text title" src="images/titles/titulo02.png" alt="" >
                    <p class="text">
                        Quando decidimos reformular a marca, definimos que o objetivo seria refletir o que somos hoje. Mas sabíamos que não poderíamos perder a identificação do público conosco. Por isso, pensamos em cada detalhe, desde os primeiros traços, para ficar com nossa cara. <br> OptamosOptamos por elementos que transmitissem de forma objetiva nossos valores, relações e posturas. Escolhemos as linhas ascendentes pois, além de trazerem movimento ao logo, mostram <b>crescimento</b> contínuo e <b>agilidade</b> nos processos. Já os círculos utilizados como base, representam os <b>ciclos de troca</b> de experiências, tanto entre parceiros quanto clientes.
                    </p>
                </div>
            </div>
        </section>
        <section id="challenge">
            <div class="container">
                <img class="image-text" src="images/titles/titulo03.png" alt="" >
                <div class="text-box">
                    <p class="text">
                        Desde o nascimento da Edools, o verde sempre foi nossa marca. Era assim que nossos clientes e colaboradores nos enxergavam. Então, como não abraçar nossa característica visual mais marcante? Os tons ressaltam a <b>maturidade</b> da empresa, que hoje com 5 anos, colhe os frutos de grandes projetos e clientes satisfeitos. <br> A <b>harmonia</b> que existe entre colaboradores e clientes também está presente nas cores, assim como o frescor de buscar sempre <b>novos desafios</b> para continuar trazendo as melhores soluções em EAD.
                    </p>
                </div>
            </div>
        </section>
        <section id="multiple-elements">
            <img class="notebook" src="images/general/caderno.png" alt="smartphone" >
            <div class="container">
                <div class="text-box">
                    <img class="image-text title" src="images/titles/titulo04.png" alt="" >
                    <p class="text">
                        Como símbolo temos a letra E abstrata, construída por uma junção de elementos que transpassam <b>força</b> e <b>união</b>. Assim como os elementos se unem para formar o símbolo, nós <b>formamos uma unidade</b> junto ao cliente para criar uma solução personalizada para o seu EAD. Assim como as novas cores nasceram a partir dos elementos primários, podemos multiplicar nosso potencial ao unir forças Os elementos sobrepostos também mostram <b>transparência</b>, a mesma que apresentamos em nossas transações e na <b>confiança</b> de nossos clientes.
                    </p>
                </div>
            </div>
        </section>
        <section id="solidity">
            <div class="container">
                <img class="image-text" src="images/titles/titulo05.png" alt="" >
                <div class="text-box">
                    <p class="text">
                        A fonte mantém a letra E minúscula como alusão ao e- que representa eletrônico, digital. Mantendo-o em nossa identidade desde o início. Assim podemos lembrar de nossas origens e a cada passo de crescimento nos orgulhar e exaltar nosso caminho até aqui. A fonte mais robusta mostra o quanto somos estáveis, seguros, e com solidez em nosso ramo. A fonte em grafite mostra a seriedade em lidar com os fluxos e foco para ser referência em EAD!
                    </p>
                </div>
            </div>
        </section>
        <section id="computer">
            <img class="background"src="images/general/computador.png" alt="" >
            <p class="animated-text">Clique aqui para abrir o vídeo</p>
        </section>
        <section id="video">
            <div class="content">
                <img class="element element-left" src="images/general/elemento2.png">
                <img class="element element-right" src="images/general/elemento1.png">
                <div class="container">
                    <div class="left-box">
                        <iframe class="video" src="https://www.youtube.com/embed/gRUo6SNXJZY?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                    <div class="right-box">
                        <h4 class="title">Acesse nosso site:</h4>
                        <span class="edools">edools.com</span>
                        <div class="social-media">
                            <img class="icon" src="images/general/facebook.png" alt="facebook-icon">
                            <img class="icon" src="images/general/youtube.png" alt="youtube-icon">
                            <img class="icon" src="images/general/instagram.png" alt="instagram-icon">
                            <img class="icon" src="images/general/linkedin.png" alt="linkedin-icon">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        var $frame = $('.frame');
        
        var top = $('html').offset().top;

        var iScrollPos = 0;
        
        var x = $('.loading-image');

        

        var checkFrame = function() {
            var iCurScrollPos = $(this).scrollTop();
            console.log(iScrollPos);

            if (iScrollPos < 350) {
                updateFrame(1);
            }
            if (iScrollPos > 350 && iScrollPos < 3300) {
                $('.frame').removeClass("final-position"); 
                $('.frame').removeClass("fixed"); 
                var calculateFrame;
                calculateFrame = parseInt((iScrollPos / 54) - 6);
                var currentFrame = getCurrentFrame();

                if (calculateFrame != currentFrame ) {
                    updateFrame(calculateFrame);
                }
            }
            
            if (iScrollPos > 3500) {
                $('.frame').addClass("final-position"); 
            }

            if (iScrollPos > 3690) {
                $('.frame').addClass("fixed"); 
            }
            else {
                $('.frame').removeClass("fixed"); 
            }

            iScrollPos = iCurScrollPos;
        };
        
        var updateFrame = function(frameNumber) {
            if (frameNumber.toString().length == 1) {
                frameNumber = `0${frameNumber}`;
            }

            $frame.attr("src", getFrameUrl(frameNumber));
        };

        var changeCurrentFrame = function() {
            $frame.attr("src", getNextFrame(status));
        }

        var getCurrentFrame = function() {
            var frameNumber = $('.frame').attr('src');
            console.log(frameNumber);
            var stringStart, stringEnd;
            stringStart = frameNumber.lastIndexOf('/') + 1;
            stringEnd = frameNumber.lastIndexOf('-');
            frameNumber = parseInt(frameNumber.substring(stringStart, stringEnd));
            return frameNumber;
        }

        var getFrameUrl = function (frameNumber) {
            return `images/animation/${frameNumber}-min.jpg`;
        }

        var loadImages = function() {
            
            var loadedImages = 0;

            for (let index = 0; index < 56; index++) {

                var image_src;

                if (index.toString().length == 1) {
                    image_src = `images/animation/0${index}-min.jpg`;
                }

                else {
                    image_src = `images/animation/${index}-min.jpg`;
                }               

                var image = new Image();
                image.src = image_src;

                image.onload = function(e){
                    console.log('carregou a imagem: ' + index);
                    loadedImages++;

                    if (loadedImages == 56) {
                        console.log('carreguei todas as imagens');
                        setTimeout(function() {
                            proceed();
                        }, 3000) 
                    }
                }
            }      
            
        };

        var proceed = function (param) {
            console.log('activate loaded');
            $('.general-container').addClass('loaded');
            $('.loading').addClass('loaded');
        }
        
        $(window).on('load', function() {
            $("html, body").animate({ scrollTop: 0 }, "slow");
            loadImages();
        });

        $(window).scroll(function () {
            checkFrame();
        });

        $(".animated-text").on('click', function() {
            $("#video").addClass('opened');
            $("html, body").animate({ scrollTop: $(document).height() }, 2500);
        });


    </script>
    
</body>
</html>